---
title: Relationships
description: Working with relationships between entities
---

## Relationships

The Factory utility also supports relationships between entities. You can use the `@FactoryRelationField` decorator to specify a related entity.

```typescript
class Review {
  @FactoryField((faker) => faker.number.int())
  id: number;

  @FactoryField((faker) => faker.lorem.sentence())
  content: string;
}

class Product {
  @FactoryRelationField(() => Review)
  review: Review;
}
```

Then, you can create an instance of the main entity, and the Factory utility will automatically create an instance of the related entity.

```typescript
const factory = new Factory(faker);
const product = factory.new(Product, {
  review: true,
});
```

### Key Binding

The `@FactoryRelationField` decorator supports key binding, which allows you to specify how a parent entity's field is related to a child entity's field. This is useful for scenarios like foreign key relationships in databases.

Here is how you can use it:

```typescript
class Chapter {
  @FactoryField((faker) => faker.number.int())
  id: number;

  @FactoryField((faker) => faker.number.int())
  bookId: number;
}

class Book {
  @FactoryField((faker) => faker.number.int())
  id: number;

  @FactoryRelationField(() => Chapter, {
    key: "id",
    inverseKey: "bookId",
  })
  chapter: Chapter;
}
```

When creating instances, the `key` from the parent will automatically bind to the `inverseKey` in the child:

```typescript
const factory = new Factory(faker);
const book = factory.new(Book, { chapter: true });

console.log(book.chapter.bookId === book.id); // true
```