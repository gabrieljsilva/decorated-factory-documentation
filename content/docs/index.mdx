---
title: Introduction
description: A factory decorators for creating objects with faker data
---

## Purpose

Decorated Factory is a tool for creating instances of classes, especially useful in testing scenarios where you need to generate data.
It uses decorators to define how to generate data for each field of a class, also supports relationships between entities and arrays of entities.

**Inspiration**:
The project draws direct inspiration from Prisma's fluent API for relationship management, combined with Faker.js' flexible data generation capabilities.



## Core Concepts



### Arrays

Generate arrays of related entities using array syntax:

```typescript
class Product {
  @FactoryRelationField(() => [Review])
  reviews: Review[];
}
```

Create multiple instances:

```typescript
const product = factory.new(Product, {
  reviews: [3] // Generates 3 Review instances
});
```

### Relationships

Define entity relationships with `@FactoryRelationField`:

```typescript
class Review {
  @FactoryField((faker) => faker.lorem.sentence())
  content: string;
}

class Product {
  @FactoryRelationField(() => Review)
  review: Review;
}
```

Generate nested instances:

```typescript
const product = factory.new(Product, {
  review: true // Generates associated Review
});
```

### Key Bindings

Establish parent-child relationships with key binding:

```typescript
class Chapter {
  @FactoryField((faker) => faker.number.int())
  bookId: number;
}

class Book {
  @FactoryRelationField(() => Chapter, {
    key: "id",
    inverseKey: "bookId"
  })
  chapter: Chapter;
}
```

Automatic ID binding:

```typescript
const book = factory.new(Book, { chapter: true });
console.log(book.chapter.bookId === book.id); // true
```

### Partials

Generate partial entities using `factory.partial()`:

```typescript
class User {
  @FactoryField((faker) => faker.person.email())
  email: string;
}

const partialUser = factory.partial(User, {
  email: true
});
```

**Nested Partials**:

```typescript
const partialUser = factory.partial(User, {
  photos: [
    2,
    { url: true }
  ]
});
```

**Key Binding in Partials**:
Key properties are always included to maintain relationships:

```typescript
// Given Photo â†” Comment relationship
const partial = factory.partial(User, {
  photos: [{ comments: [{ text: true }] }]
});

// Output includes photoId and userId automatically
```

## Advanced Usage

### Instance Creation Methods

| Method       | Returns          | Use Case                      |
|--------------|------------------|-------------------------------|
| `.new()`     | Concrete instance| Immediate object creation     |
| `.create()`  | Overridable      | Delayed/modifiable creation  |

**Example**:

```typescript
const overridable = factory.create(Product);
const modified = overridable.override(() => ({ name: "Custom" }));
```

### Batch Creation

Create multiple instances:

```typescript
// Immediate creation
const products = factory.newList(Product, 5);

// Overridable list
const overridables = factory.createList(Product, 3);
```

## Type Safety

Decorated Factory maintains strict type checking throughout:
- Field overrides validate against original class structure
- Relationship definitions enforce proper entity types
- Partial selections maintain optionality semantics
